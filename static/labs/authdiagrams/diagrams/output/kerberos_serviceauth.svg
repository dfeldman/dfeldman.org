<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="766px" preserveAspectRatio="none" style="width:906px;height:766px;background:#282828;" version="1.1" viewBox="0 0 906 766" width="906px" zoomAndPan="magnify"><defs/><g><rect fill="#282828" height="766" style="stroke:none;stroke-width:1.0;" width="906" x="0" y="0"/><line style="stroke:#000000;stroke-width:1.0;" x1="81" x2="81" y1="54.0293" y2="713.6143"/><line style="stroke:#000000;stroke-width:1.0;" x1="348.8486" x2="348.8486" y1="54.0293" y2="713.6143"/><line style="stroke:#000000;stroke-width:1.0;" x1="497.6289" x2="497.6289" y1="54.0293" y2="713.6143"/><line style="stroke:#000000;stroke-width:1.0;" x1="653.4932" x2="653.4932" y1="54.0293" y2="713.6143"/><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="123.457" x="20" y="5"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.1377" x="48.6597" y="26.0752">Service A</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.457" x="27" y="43.0898">(Client Service)</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="123.457" x="20" y="712.6143"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.1377" x="48.6597" y="733.6895">Service A</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="109.457" x="27" y="750.7041">(Client Service)</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="115.7803" x="291.8486" y="5"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="101.7803" x="298.8486" y="26.0752">Authentication</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.5449" x="299.9663" y="43.0898">Service (KDC)</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="115.7803" x="291.8486" y="712.6143"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="101.7803" x="298.8486" y="733.6895">Authentication</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.5449" x="299.9663" y="750.7041">Service (KDC)</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="121.8643" x="437.6289" y="5"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="107.8643" x="444.6289" y="26.0752">Ticket Granting</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.6455" x="472.7383" y="43.0898">Service</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="121.8643" x="437.6289" y="712.6143"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="107.8643" x="444.6289" y="733.6895">Ticket Granting</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51.6455" x="472.7383" y="750.7041">Service</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="128.8711" x="589.4932" y="5"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.165" x="620.8462" y="26.0752">Service B</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="114.8711" x="596.4932" y="43.0898">(Target Service)</text><rect fill="#3C3F41" height="48.0293" rx="2.5" ry="2.5" style="stroke:#E8E8E8;stroke-width:1.0;" width="128.8711" x="589.4932" y="712.6143"/><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.165" x="620.8462" y="733.6895">Service B</text><text fill="#E8E8E8" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="114.8711" x="596.4932" y="750.7041">(Target Service)</text><path d="M11,69.0293 L11,94.0293 L724,94.0293 L724,79.0293 L714,69.0293 L11,69.0293 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M714,69.0293 L714,79.0293 L724,79.0293 L714,69.0293 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="316.0942" x="205.135" y="87.0991">Service-to-Service Authentication using Keytabs</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="894.9727" x="5" y="120.7283"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="120.7283" y2="120.7283"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="123.7283" y2="123.7283"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1.0;" width="275.2124" x="314.8801" y="109.8286"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="256.769" x="320.8801" y="126.8984">Initial Setup (Done at deployment)</text><polygon fill="#E8E8E8" points="92.7285,172.3269,82.7285,176.3269,92.7285,180.3269,88.7285,176.3269" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="86.7285" x2="348.7388" y1="176.3269" y2="176.3269"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.3789" x="98.7285" y="171.5974">Service A Keytab File</text><path d="M354,148.6279 L354,189.6279 L585,189.6279 L585,158.6279 L575,148.6279 L354,148.6279 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M575,148.6279 L575,158.6279 L585,158.6279 L575,148.6279 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207.9238" x="360" y="166.6978">Contains service principal name</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.0186" x="360" y="182.4971">and encrypted key for Service A</text><polygon fill="#E8E8E8" points="641.9287,223.9255,651.9287,227.9255,641.9287,231.9255,645.9287,227.9255" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="349.7388" x2="647.9287" y1="227.9255" y2="227.9255"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.4043" x="356.7388" y="223.196">Service B Keytab File</text><path d="M658,200.2266 L658,241.2266 L889,241.2266 L889,210.2266 L879,200.2266 L658,200.2266 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M879,200.2266 L879,210.2266 L889,210.2266 L879,200.2266 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="207.9238" x="664" y="218.2964">Contains service principal name</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.0439" x="664" y="234.0957">and encrypted key for Service B</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="894.9727" x="5" y="267.7249"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="267.7249" y2="267.7249"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="270.7249" y2="270.7249"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1.0;" width="184.0728" x="360.45" y="256.8252"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="165.6294" x="366.45" y="273.895">Service Authentication</text><polygon fill="#E8E8E8" points="337.7388,319.3235,347.7388,323.3235,337.7388,327.3235,341.7388,323.3235" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="81.7285" x2="343.7388" y1="323.3235" y2="323.3235"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="244.0103" x="88.7285" y="318.594">1. AS-REQ(Service A Principal Name)</text><path d="M354,295.6245 L354,336.6245 L567,336.6245 L567,305.6245 L557,295.6245 L354,295.6245 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M557,295.6245 L557,305.6245 L567,305.6245 L557,295.6245 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="192.3784" x="360" y="313.6943">Uses keytab to prove identity</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.3516" x="360" y="329.4937">(no password needed)</text><polygon fill="#E8E8E8" points="92.7285,378.8218,82.7285,382.8218,92.7285,386.8218,88.7285,382.8218" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="86.7285" x2="348.7388" y1="382.8218" y2="382.8218"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="202.9028" x="98.7285" y="378.0923">2. AS-REP(TGT + Session Key)</text><path d="M354,347.2231 L354,404.2231 L563,404.2231 L563,357.2231 L553,347.2231 L354,347.2231 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M553,347.2231 L553,357.2231 L563,357.2231 L553,347.2231 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="188.2207" x="360" y="365.293">TGT encrypted with KDC key</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="179.3086" x="360" y="381.0923">Session key encrypted with</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.333" x="360" y="396.8916">Service A's key from keytab</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="894.9727" x="5" y="430.5208"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="430.5208" y2="430.5208"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="433.5208" y2="433.5208"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1.0;" width="184.4854" x="360.2437" y="419.6211"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="166.042" x="366.2437" y="436.6909">Service Ticket Request</text><polygon fill="#E8E8E8" points="486.561,482.1194,496.561,486.1194,486.561,490.1194,490.561,486.1194" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="81.7285" x2="492.561" y1="486.1194" y2="486.1194"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="336.1274" x="88.7285" y="481.3899">3. TGS-REQ(TGT + Service B SPN + Authenticator)</text><path d="M503,458.4204 L503,499.4204 L756,499.4204 L756,468.4204 L746,458.4204 L503,458.4204 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M746,458.4204 L746,468.4204 L756,468.4204 L746,458.4204 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="188.7031" x="509" y="476.4902">Requests ticket for Service B</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="232.3052" x="509" y="492.2896">using Service Principal Name (SPN)</text><polygon fill="#E8E8E8" points="92.7285,533.718,82.7285,537.718,92.7285,541.718,88.7285,537.718" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="86.7285" x2="497.561" y1="537.718" y2="537.718"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="329.9702" x="98.7285" y="532.9885">4. TGS-REP(Service Ticket + Service Session Key)</text><path d="M503,510.019 L503,551.019 L739,551.019 L739,520.019 L729,510.019 L503,510.019 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M729,510.019 L729,520.019 L739,520.019 L729,510.019 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="190.2964" x="509" y="528.0889">Service ticket encrypted with</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="215.1982" x="509" y="543.8882">Service B's key (from its keytab)</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1.0;" width="894.9727" x="5" y="577.5173"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="577.5173" y2="577.5173"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="899.9727" y1="580.5173" y2="580.5173"/><rect fill="#FFFFFF" height="23.7993" style="stroke:#000000;stroke-width:1.0;" width="125.8394" x="389.5667" y="566.6177"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107.396" x="395.5667" y="583.6875">Service Access</text><polygon fill="#E8E8E8" points="641.9287,629.116,651.9287,633.116,641.9287,637.116,645.9287,633.116" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="81.7285" x2="647.9287" y1="633.116" y2="633.116"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="278.9731" x="88.7285" y="628.3865">5. AP-REQ(Service Ticket + Authenticator)</text><path d="M658,605.417 L658,646.417 L843,646.417 L843,615.417 L833,605.417 L658,605.417 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M833,605.417 L833,615.417 L843,615.417 L833,605.417 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="164.29" x="664" y="623.4868">Service B uses its keytab</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132.9199" x="664" y="639.2861">to decrypt the ticket</text><polygon fill="#E8E8E8" points="92.7285,680.7146,82.7285,684.7146,92.7285,688.7146,88.7285,684.7146" style="stroke:#E8E8E8;stroke-width:1.0;"/><line style="stroke:#E8E8E8;stroke-width:1.0;" x1="86.7285" x2="652.9287" y1="684.7146" y2="684.7146"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129.0479" x="98.7285" y="679.9851">6. AP-REP(Success)</text><path d="M658,657.0156 L658,698.0156 L877,698.0156 L877,667.0156 L867,657.0156 L658,657.0156 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><path d="M867,657.0156 L867,667.0156 L877,667.0156 L867,657.0156 " fill="#3C3F41" style="stroke:#E8E8E8;stroke-width:1.0;"/><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.9927" x="664" y="675.0854">Mutual authentication possible</text><text fill="#E8E8E8" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.9116" x="664" y="690.8848">using session key</text><!--SRC=[jLJBRjim4BphAxRfeJ9Q1yYZHH301IJdqI9euCRkBHT6sZY4PL8bgGJ- -ovbIXHLo-wbq44GESkPdHtgdNd1DK9PC2uYlUAYP8gjuObbgwMIbSYdif0AtfzUsAU3kC9dLXNcHWhZ8DSNzkb04gNasz3c77zNA3Ay9POobIf75K8xs1bJXcUyPCAaVM5dqxERyvC1y8vZTmB_xgA3kvS63zFMgBry5h6NQ6l5GIRdMBv93mvfqDmUPA-iO5BVaD5X-wOU3lPWDxqS37SLbNvULALUUOO9C0r7xWEIHn5F2uv-VtGKL2Np6fzK57f1gynmAHv5Kn_VNKrx5OlRRSc2PoiqP1OjSh5iQuvsgKe3LIcfMZ2rnAwgI50OGBwYQblvvCiRbw1P6XivRhiCr4EbIG_SuSQm9nsXoC4U7KMJ2NmNt71Mq26cAY6-aWA16SYnBEHcJMUCO3A9o9JnrrR59RGyxb2uuGLkzIg-V34TTLEA0VqtD6XNKoekh1S52BP6GZ3IGzDLcz9W3YlSmBDKdgAZDv2HUXdf_vUHXhOD64rMjQaZfSdy4awEwJL-kFuPUzDcBVSzSOzsA_wbKLiPjYyZIIyb0NXksSo6zcD1YqphDxgw811pp4T3Nj78JfsEMRouNS17sj7QIYRd1WHOd3VaZPiNeF1RINNejkNMfn3a4md91xqrKicrQsMtZUxgFDXxhatVHhfWbt1sRD-raKq3pV3ditlwxen2ge6M7846ioKC9mpkeZGhuPWW9fwkm_RU1nQVDn9dSQynh_QmxGtIIHmqDtNcnhMxt3HX6GqaDSk8kc-jlqkVAH-p8AUjzdznra-ZihdrScYFqfjZtGNGGQwnZihsdnQu-SK98ZEhMli0yu_AL3GY5jx4KfBFJmMsGzK-i9xw3m00]--></g></svg>